{% extends "layout.html" %}

{% block title %}{{ text.setup_title }}{% endblock %}

{% block content %}
<div class="card setup-wizard">
    <div class="setup-step" data-step="1" id="step-1">
        <h2>{{ text.step_1_title }}</h2>
        <p>{{ text.step_1_desc }}</p>
        
        <label for="lang-select">{{ text.language }}:</label>
        <select id="lang-select" name="language" required>
            {% for code, name in languages.items() %}
                <option value="{{ code }}" {% if settings.lang == code %}selected{% endif %}>{{ name }}</option>
            {% endfor %}
        </select>

        <div style="margin-top: 15px;">
            <label>{{ text.theme }}:</label>
            <div style="display: flex; gap: 10px; margin-top: 5px;">
                <label>
                    <input type="radio" name="theme" value="light" {% if settings.theme == 'light' %}checked{% endif %}> {{ text.light }}
                </label>
                <label>
                    <input type="radio" name="theme" value="dark" {% if settings.theme == 'dark' %}checked{% endif %}> {{ text.dark }}
                </label>
            </div>
        </div>

        <div class="setup-actions">
            <button class="primary" id="next-step-2" type="button">{{ text.next }}</button>
        </div>
    </div>

    <div class="setup-step" data-step="2" id="step-2">
        <h2>{{ text.step_2_title }}</h2>
        <p>{{ text.step_2_desc }}</p>
        
        <div id="step-2-message" style="margin-bottom: 10px; font-size: 0.9rem; font-weight: 600;"></div>
        
        <input type="email" id="email" placeholder="{{ text.email_placeholder }}" required>
        <input type="password" id="password" placeholder="{{ text.password_placeholder }}" required>

        <div class="setup-actions">
            <button class="secondary" id="back-step-1" type="button">{{ text.back }}</button>
            <button class="primary" id="submit-step-2">{{ text.submit_continue }}</button>
        </div>
    </div>

    <div class="setup-step" data-step="3" id="step-3">
        <h2>{{ text.step_3_title }}</h2>
        <p>{{ text.step_3_desc }}</p>
        
        <div id="step-3-message" style="margin-bottom: 10px; font-size: 0.9rem; font-weight: 600;"></div>
        
        <input type="number" id="num-plants" min="1" max="10" placeholder="{{ text.num_plants_placeholder }}" required>

        <div class="setup-actions">
            <button class="secondary" id="back-step-2" type="button">{{ text.back }}</button>
            <button class="primary" id="next-step-4" disabled>{{ text.next }}</button>
        </div>
    </div>

    <div class="setup-step" data-step="4" id="step-4">
        <h2>{{ text.step_4_title }}</h2>
        <p>{{ text.step_4_desc }}</p>
        
        <div id="step-4-message" style="margin-bottom: 10px; font-size: 0.9rem; font-weight: 600;"></div>
        
        <div id="plant-inputs-container">
            <!-- Dynamic inputs will be generated here by JavaScript -->
        </div>

        <div class="setup-actions">
            <button class="secondary" id="back-step-3" type="button">{{ text.back }}</button>
            <button class="primary" id="next-step-5">{{ text.next }}</button>
        </div>
    </div>

    <div class="setup-step" data-step="5" id="step-5">
        <h2>{{ text.step_5_title }}</h2>
        <p>{{ text.step_5_desc }}</p>
        
        <div id="step-5-message" style="margin-bottom: 10px; font-size: 0.9rem; font-weight: 600;"></div>
        
        <input type="number" id="acres" step="0.01" min="0.1" placeholder="{{ text.acres_placeholder }}" required>
        
        <p style="margin-top: 20px;">
            <small>{{ text.land_info_small }}</small>
        </p>

        <div class="setup-actions">
            <button class="secondary" id="back-step-4" type="button">{{ text.back }}</button>
            <button class="primary" id="complete-setup">{{ text.complete_setup }}</button>
        </div>
    </div>
</div>
{% endblock %}
